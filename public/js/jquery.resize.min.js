var NAVY=NAVY||{};NAVY.Resize=function(e,t){var n;this.targetObj=$(e),n={minWidth:100,minHeight:100,startWidth:0,startHeight:0,left:0,top:0,isMoveSpace:{x:3,y:3}},$.extend(n,t),this.options=n,this.init()},NAVY.Resize.prototype={init:function(){var e=this,t=e.targetObj;return t.append(e.makeResizeHtml()),e.resizeObjs=t.find(".navy-window-resize"),t.css("position")==="static"&&t.css("position","relative"),e.initEvent(),this},initEvent:function(){var e=this.targetObj,t=this.resizeObjs,n=this.options,r=n.minWidth,i=n.minHeight,s=!1,o={startWidth:n.startWidth,startHeight:n.startHeight,left:n.left,top:n.top,pageX:0,pageY:0},u=null,a=0,f=0,l=0,c=0;return t.mousedown(function(t){return u=$(this).attr("resize"),s=!0,o.pageX=t.pageX,o.pageY=t.pageY,o.startWidth=e.outerWidth(),o.startHeight=e.outerHeight(),o.left=e.position().left,o.top=e.position().top,!1}),$(document).on("mousemove mouseup",function(t){var h,p,d;switch(t.type){case"mouseup":return s=!1,!1;case"mousemove":if(s){h={x:t.pageX,y:t.pageY},p=h.x-o.pageX,d=h.y-o.pageY;if(p%n.isMoveSpace.x===0||d%n.isMoveSpace.y===0)u==="t"?(l=o.top+d,a=o.startHeight-d,a=a<=i?i:a,e.css({height:a,top:l})):u==="b"?(a=o.startHeight+d,a=a<=i?i:a,e.css({height:a})):u==="l"?(l=o.left+p,a=o.startWidth-p,a=a<=r?r:a,e.css({width:a,left:l})):u==="r"?(a=o.startWidth+p,a=a<=r?r:a,e.css({width:a})):u==="rt"?(a=o.startWidth+p,a=a<=r?r:a,f=o.startHeight-d,f=a<=i?i:a,l=o.top+d,e.css({width:a,height:f,top:l})):u==="rb"?(a=o.startWidth+p,a=a<=r?r:a,f=o.startHeight+d,f=a<=i?i:a,e.css({width:a,height:f})):u==="lt"?(l=o.left+p,a=o.startWidth-p,a=a<=r?r:a,c=o.top+d,f=o.startHeight-d,f=a<=i?i:a,e.css({width:a,height:f,left:l,top:c})):(l=o.left+p,a=o.startWidth-p,a=a<=r?r:a,f=o.startHeight+d,f=a<=i?i:a,e.css({width:a,height:f,left:l}))}return!1}}),this},makeResizeHtml:function(){var e=['<div class="navy-window-resize window-resize-t" resize="t"></div>'];return e.push('<div class="navy-window-resize window-resize-r" resize="r"></div>'),e.push('<div class="navy-window-resize window-resize-b" resize="b"></div>'),e.push('<div class="navy-window-resize window-resize-l" resize="l"></div>'),e.push('<div class="navy-window-resize window-resize-rt" resize="rt"></div>'),e.push('<div class="navy-window-resize window-resize-rb" resize="rb"></div>'),e.push('<div class="navy-window-resize window-resize-lt" resize="lt"></div>'),e.push('<div class="navy-window-resize window-resize-lb" resize="lb"></div>'),e.join("")}}